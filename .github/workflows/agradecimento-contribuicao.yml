name: COMMENT - Agradecimento pela Contribui√ß√£o

# Define os eventos que ir√£o acionar o workflow, neste caso, o workflow ser√° acionado sempre que
# um Pull Request (PR) for criado, reaberto, atualizado ou desbloqueado. Isso garante que, 
# sempre que houver intera√ß√£o em um PR, o autor receber√° uma mensagem de agradecimento.
on:
  pull_request_target:                 # O pull_request_target garante que o workflow tenha permiss√µes mesmo em PRs vindos de forks.
    types:
      - opened                         # Acionado quando um novo PR √© aberto
      - synchronize                    # Acionado quando novos commits s√£o enviados para um PR existente
      - reopened                       # Acionado quando um PR fechado √© reaberto
      - unlocked                       # Acionado quando um PR bloqueado √© desbloqueado

# Defini√ß√£o de permiss√µes para o workflow
jobs:
  # Este job √© respons√°vel por adicionar um coment√°rio autom√°tico a qualquer Pull Request que atenda a um dos crit√©rios definidos acima (aberto, reaberto, atualizado ou desbloqueado).
  # A mensagem agradece o autor pela contribui√ß√£o e explica o processo de revis√£o que ocorrer√° em seguida.
  comment-agradecimento-contribuicao:
    runs-on: ubuntu-latest             # O job ser√° executado em uma m√°quina virtual com o sistema Ubuntu mais recente.
    timeout-minutes: 10                # Tempo m√°ximo de execu√ß√£o do job √© de 10 minutos.
    permissions: write-all             # Permiss√µes para escrita em todos os recursos do reposit√≥rio. Isso √© necess√°rio para poder adicionar coment√°rios no PR.

    steps:
      # Etapa que faz o checkout do reposit√≥rio. Mesmo que este job n√£o modifique arquivos diretamente,
      # o checkout √© necess√°rio para garantir que o job possa acessar o contexto completo do PR e interagir com ele.
      - name: Checkout                 # Nome da etapa que faz o checkout do c√≥digo
        uses: actions/checkout@v4      # A√ß√£o oficial do GitHub para fazer o checkout do reposit√≥rio (pega o c√≥digo-fonte e o contexto do PR)

      # Etapa que adiciona um coment√°rio autom√°tico ao PR utilizando uma a√ß√£o externa.
      # Aqui, a a√ß√£o 'mshick/add-pr-comment@v2' √© utilizada para inserir uma mensagem personalizada em todos os PRs abertos ou atualizados.
      - name: Adicionar coment√°rio ao PR
        uses: mshick/add-pr-comment@v2 # A√ß√£o que adiciona um coment√°rio autom√°tico a Pull Requests
        with:
          repo-token: ${{ secrets.REPO_TOKEN }}     # Token de autentica√ß√£o gerado automaticamente para acessar e modificar o PR
          message-id: contribuicao-recebida-id      # ID da mensagem para refer√™ncia, √∫til para evitar duplicidade de coment√°rios no PR
          message: |                                # Texto da mensagem de agradecimento que ser√° postada como coment√°rio no PR
            üéâ Obrigado por sua contribui√ß√£o!

            Estamos animados para revisar seu PR! Um dos mantenedores dar√° feedback em breve.

            Enquanto isso, sinta-se √† vontade para nos enviar qualquer d√∫vida. E lembre-se: a comunidade pode ajudar reagindo com um joinha üëç para aprova√ß√£o ou um foguete üöÄ para aqueles que testaram.

            Sua participa√ß√£o √© muito valiosa e inspira outros a contribu√≠rem tamb√©m! ‚ù§Ô∏è

